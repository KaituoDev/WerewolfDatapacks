## running as player

data modify storage fd:game buttons.array set value []
data modify storage fd:game buttons.count set value 0

tag @s add this

execute as @e[type=area_effect_cloud,tag=button,sort=nearest,limit=2] run function fd:button/track/distance

tag @s remove this

execute store result score %count var run data get storage fd:game buttons.count 1

execute if score %count var matches 1 run title @s actionbar [{"storage":"fd:game","nbt":"buttons.array[0].name","interpret":true,"color":"red","bold":true},{"text":"(","color":"dark_aqua","bold":false},{"storage":"fd:game","nbt":"buttons.array[0].x","color":"green","bold":true},{"text":",","color":"dark_aqua","bold":true},{"storage":"fd:game","nbt":"buttons.array[0].y","color":"green","bold":true},{"text":",","color":"dark_aqua","bold":true},{"storage":"fd:game","nbt":"buttons.array[0].z","color":"green","bold":true},{"text":") ","color":"dark_aqua","bold":false},{"text":"距離 ","color":"dark_aqua","bold":true},{"storage":"fd:game","nbt":"buttons.array[0].distance","interpret":true,"color":"green","bold":true}]

execute if score %count var matches 2.. run title @s actionbar [{"storage":"fd:game","nbt":"buttons.array[0].name","interpret":true,"color":"red","bold":true},{"text":"(","color":"dark_aqua","bold":false},{"storage":"fd:game","nbt":"buttons.array[0].x","color":"green","bold":true},{"text":",","color":"dark_aqua","bold":true},{"storage":"fd:game","nbt":"buttons.array[0].y","color":"green","bold":true},{"text":",","color":"dark_aqua","bold":true},{"storage":"fd:game","nbt":"buttons.array[0].z","color":"green","bold":true},{"text":") ","color":"dark_aqua","bold":false},{"text":"距離 ","color":"dark_aqua","bold":true},{"storage":"fd:game","nbt":"buttons.array[0].distance","interpret":true,"color":"green","bold":true},"  ", {"storage":"fd:game","nbt":"buttons.array[1].name","interpret":true,"color":"red","bold":true},{"text":"(","color":"dark_aqua","bold":false},{"storage":"fd:game","nbt":"buttons.array[1].x","color":"green","bold":true},{"text":",","color":"dark_aqua","bold":true},{"storage":"fd:game","nbt":"buttons.array[1].y","color":"green","bold":true},{"text":",","color":"dark_aqua","bold":true},{"storage":"fd:game","nbt":"buttons.array[1].z","color":"green","bold":true},{"text":") ","color":"dark_aqua","bold":false},{"text":"距離 ","color":"dark_aqua","bold":true},{"storage":"fd:game","nbt":"buttons.array[1].distance","interpret":true,"color":"green","bold":true}]

# execute if score %count var matches 3.. run title @s actionbar [{"storage":"fd:game","nbt":"buttons.array[0].name","interpret":true,"color":"red","bold":true},{"text":"(","color":"dark_aqua","bold":false},{"storage":"fd:game","nbt":"buttons.array[0].x","color":"green","bold":true},{"text":",","color":"dark_aqua","bold":true},{"storage":"fd:game","nbt":"buttons.array[0].y","color":"green","bold":true},{"text":",","color":"dark_aqua","bold":true},{"storage":"fd:game","nbt":"buttons.array[0].z","color":"green","bold":true},{"text":") ","color":"dark_aqua","bold":false},{"text":"距離 ","color":"dark_aqua","bold":true},{"storage":"fd:game","nbt":"buttons.array[0].distance","interpret":true,"color":"green","bold":true},"  ", {"storage":"fd:game","nbt":"buttons.array[1].name","interpret":true,"color":"red","bold":true},{"text":"(","color":"dark_aqua","bold":false},{"storage":"fd:game","nbt":"buttons.array[1].x","color":"green","bold":true},{"text":",","color":"dark_aqua","bold":true},{"storage":"fd:game","nbt":"buttons.array[1].y","color":"green","bold":true},{"text":",","color":"dark_aqua","bold":true},{"storage":"fd:game","nbt":"buttons.array[1].z","color":"green","bold":true},{"text":") ","color":"dark_aqua","bold":false},{"text":"距離 ","color":"dark_aqua","bold":true},{"storage":"fd:game","nbt":"buttons.array[1].distance","interpret":true,"color":"green","bold":true},"  ", {"storage":"fd:game","nbt":"buttons.array[2].name","interpret":true,"color":"red","bold":true},{"text":"(","color":"dark_aqua","bold":false},{"storage":"fd:game","nbt":"buttons.array[2].x","color":"green","bold":true},{"text":",","color":"dark_aqua","bold":true},{"storage":"fd:game","nbt":"buttons.array[2].y","color":"green","bold":true},{"text":",","color":"dark_aqua","bold":true},{"storage":"fd:game","nbt":"buttons.array[2].z","color":"green","bold":true},{"text":") ","color":"dark_aqua","bold":false},{"text":"距離 ","color":"dark_aqua","bold":true},{"storage":"fd:game","nbt":"buttons.array[2].distance","interpret":true,"color":"green","bold":true}]